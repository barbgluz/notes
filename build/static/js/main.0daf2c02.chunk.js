(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports={ModalContainer:"Modal_ModalContainer__20Ofz",Modal:"Modal_Modal__1GtWm",Content:"Modal_Content__1-WJx",Title:"Modal_Title__Yn3Im",Links:"Modal_Links__3kwS4",Link:"Modal_Link__23sWW"}},2:function(e,t,n){e.exports={Container:"Auth_Container__1mT3e",Box:"Auth_Box__WDDrv",FormContainer:"Auth_FormContainer__38UCU",ImgContainer:"Auth_ImgContainer__19ehb",Login:"Auth_Login__2nKyq",Signup:"Auth_Signup__270Pu",Form:"Auth_Form__1Tklh",FormTitle:"Auth_FormTitle__3PoPS",InputGroup:"Auth_InputGroup__MXdOc",Btn:"Auth_Btn__1ZyE6",Footer:"Auth_Footer__3APo0"}},22:function(e,t,n){e.exports={NotebookItem:"NotebookItem_NotebookItem__1jiO9",Title:"NotebookItem_Title__3nVKE",Notes:"NotebookItem_Notes__33Zle"}},23:function(e,t,n){e.exports={Notebooks:"Notebooks_Notebooks__2PTXZ",Title:"Notebooks_Title__1tAYl"}},25:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__1IxrI",Logo:"Navbar_Logo__fva-O",Navigation:"Navbar_Navigation__3Zo5U",Item:"Navbar_Item__246cd"}},26:function(e,t,n){e.exports={Item:"NoteItem_Item__3VPe1",Line:"NoteItem_Line__ABv9k",Description:"NoteItem_Description__5Aanq",Title:"NoteItem_Title__2c5cs",Footer:"NoteItem_Footer__28W50"}},28:function(e,t,n){},37:function(e,t,n){e.exports={Content:"Note_Content__2NX5Z",Description:"Note_Description__2fvVI"}},50:function(e,t,n){},52:function(e,t,n){e.exports=n(81)},57:function(e,t,n){},8:function(e,t,n){e.exports={Title:"Layout_Title__3n64m",Btn:"Layout_Btn__24xli",Content:"Layout_Content__PrDi6",Container:"Layout_Container__ffMht",Navbar:"Layout_Navbar__3q20Y",MainContent:"Layout_MainContent__2OixL",Links:"Layout_Links__1p8Wt"}},81:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(29),i=n.n(r),s=(n(57),n(3)),l=n(4),u=n(6),c=n(5),m=n(7),d=n(1),p=n(20),h=n(9),b=n(48),E=n.n(b).a.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),_=function(e){return{type:"AUTH_SUCCESS",token:e}},f=function(){return localStorage.removeItem("token"),localStorage.removeItem("expires_at"),{type:"AUTH_LOGOUT"}},v=n(31),N=n(19),O=n(11),k=function(e){return""===e},T=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},S=(n(28),n(2)),g=n.n(S),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null;return this.props.errors.email&&(e=this.props.errors.email.map(function(e,t){return o.a.createElement("p",{key:t}," ",e," ")})),o.a.createElement("div",{className:g.a.Login},o.a.createElement("h1",{className:g.a.FormTitle},"Login"),o.a.createElement("form",{className:g.a.Form,id:"loginForm"},o.a.createElement("div",{className:g.a.InputGroup+" InputGroup"},o.a.createElement("input",{className:"Input",type:"text",id:"email",onChange:this.props.changed,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"email"},"Email")),o.a.createElement("div",{className:"Error"},e),o.a.createElement("div",{className:g.a.InputGroup+" InputGroup"},o.a.createElement("input",{className:"Input",type:"password",id:"password",onChange:this.props.changed,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"password"},"Password")),o.a.createElement("div",{className:"Error"},o.a.createElement("p",null,this.props.errors.password)),o.a.createElement("button",{className:g.a.Btn+" Btn",onClick:this.props.submit},"Login")),o.a.createElement("div",{className:g.a.Footer},o.a.createElement("p",null,"Not a member yet? ",o.a.createElement(d.b,{to:"/signup"},"Sign Up")," ")))}}]),t}(a.Component),F=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null;this.props.errors.email&&(e=this.props.errors.email.map(function(e,t){return o.a.createElement("p",{key:t}," ",e," ")}));var t=null;return this.props.errors.passwordConfirm&&(t=this.props.errors.passwordConfirm.map(function(e,t){return o.a.createElement("p",{key:t}," ",e," ")})),o.a.createElement("div",{className:g.a.Signup},o.a.createElement("h1",{className:g.a.FormTitle},"Signup"),o.a.createElement("form",{className:g.a.Form,id:"signupForm"},o.a.createElement("div",{className:g.a.InputGroup+" InputGroup"},o.a.createElement("input",{className:"Input",type:"text",id:"name",onChange:this.props.changed,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"name"},"Name")),o.a.createElement("div",{className:"Error"},o.a.createElement("p",null,this.props.errors.name)),o.a.createElement("div",{className:g.a.InputGroup+" InputGroup"},o.a.createElement("input",{className:"Input",type:"text",id:"email",onChange:this.props.changed,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"email"},"Email")),o.a.createElement("div",{className:"Error"},e),o.a.createElement("div",{className:g.a.InputGroup+" InputGroup"},o.a.createElement("input",{className:"Input",type:"password",id:"password",onChange:this.props.changed,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"password"},"Password")),o.a.createElement("div",{className:"Error"},o.a.createElement("p",null,this.props.errors.password)),o.a.createElement("div",{className:g.a.InputGroup+" InputGroup"},o.a.createElement("input",{className:"Input",type:"password",id:"passwordConfirm",onChange:this.props.changed,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"passwordConfirm"},"Confirm Password")),o.a.createElement("div",{className:"Error"},t),o.a.createElement("button",{className:g.a.Btn+" Btn",onClick:this.props.submit},"Signup")),o.a.createElement("div",{className:g.a.Footer},o.a.createElement("p",null,"Already a member? ",o.a.createElement(d.b,{to:"/"},"Log In")," ")))}}]),t}(a.Component),y=n(50),A=n.n(y),w=function(){return o.a.createElement("div",{className:A.a.Loader},"Loading...")},I=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={loginForm:{email:{value:"",errors:{required:"Email is required",invalid:"Email is invalid"}},password:{value:"",errors:{required:"Password is required"}}},signupForm:{name:{value:"",errors:{required:"Name is required"}},email:{value:"",errors:{required:"Email is required",invalid:"Email is invalid"}},password:{value:"",errors:{required:"Password is required"}},passwordConfirm:{value:"",errors:{required:"Password confirm is required",match:"Passwords do not match"}}},errors:{name:[],email:[],password:[],passwordConfirm:[]},isValid:!1},n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.form.id,n=Object(N.a)({},this.state[t]);n[e.target.id].value=e.target.value,this.setState(Object(v.a)({},t,n))}},{key:"validateForm",value:function(e){var t,n,a,o=this.state[e];"signupForm"===e?(t={name:[],email:[],password:[],passwordConfirm:[]},k(o.name.value)&&t.name.push(o.name.errors.required),k(o.email.value)&&t.email.push(o.email.errors.required),T(o.email.value)||t.email.push(o.email.errors.invalid),k(o.password.value)&&t.password.push(o.password.errors.required),k(o.passwordConfirm.value)&&t.passwordConfirm.push(o.passwordConfirm.errors.required),n=o.password.value,a=o.passwordConfirm.value,n!==a&&t.passwordConfirm.push(o.passwordConfirm.errors.match)):"loginForm"===e&&(t={email:[],password:[]},k(o.email.value)&&t.email.push(o.email.errors.required),T(o.email.value)||t.email.push(o.email.errors.invalid),k(o.password.value)&&t.password.push(o.password.errors.required));var r=!0;for(var i in t)0!==t[i].length&&void 0!==t[i][0]&&(r=!1);this.setState({isValid:r}),this.setState({errors:t})}},{key:"submitForm",value:function(e){"signupForm"===e?(this.props.onSignup(this.state.signupForm.name.value,this.state.signupForm.email.value,this.state.signupForm.password.value,this.state.signupForm.passwordConfirm.value),this.props.onAuth(this.state.signupForm.email.value,this.state.signupForm.password.value)):"loginForm"===e&&this.props.onAuth(this.state.loginForm.email.value,this.state.loginForm.password.value)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.form.id;this.validateForm(t),this.state.isValid&&this.submitForm(t)}},{key:"render",value:function(){var e=o.a.createElement(C,{changed:this.handleChange,errors:this.state.errors,submit:this.handleSubmit});"signup"===this.props.form&&(e=o.a.createElement(F,{changed:this.handleChange,errors:this.state.errors,submit:this.handleSubmit})),this.props.loading&&(e=o.a.createElement(w,null));var t=null;return this.props.isAuthenticated&&(t=o.a.createElement(p.a,{to:"/"})),o.a.createElement("div",{className:g.a.Container},o.a.createElement("div",{className:g.a.Box},o.a.createElement("div",{className:g.a.ImgContainer}),o.a.createElement("div",{className:g.a.FormContainer},t,e)))}}]),t}(a.Component),j=Object(h.b)(function(e){return{isAuthenticated:null!==e.auth.token,loading:e.auth.loading}},function(e){return{onAuth:function(t,n){return e(function(e,t){return function(n){n({type:"AUTH_START"});var a={email:e,password:t};E.post("/login",a).then(function(e){localStorage.setItem("token",e.data.access_token),localStorage.setItem("expires_at",e.data.expires_at),n(_(e.data.access_token))}).catch(function(e){console.log(e),n({type:"AUTH_FAIL",error:e})})}}(t,n))},onSignup:function(t,n,a,o){return e(function(e,t,n,a){return function(o){o({type:"SIGNUP_START"});var r={name:e,email:t,password:n,password_confirmation:a};E.post("/signup",r).then(function(e){o({type:"SIGNUP_SUCCESS"})}).catch(function(e){console.log(e),o({type:"SIGNUP_FAIL",error:e})})}}(t,n,a,o))}}})(I),L=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return o.a.createElement(p.a,{to:"/"})}}]),t}(a.Component),U=Object(h.b)(null,function(e){return{onLogout:function(){return e(f())}}})(L),M=n(25),B=n.n(M),P=function(e){return o.a.createElement("div",{className:B.a.Navbar},o.a.createElement("div",{className:B.a.Logo},o.a.createElement("p",null,"NotesApp")),o.a.createElement("nav",{className:B.a.Navigation},o.a.createElement("ul",null,o.a.createElement("li",{className:B.a.Item},o.a.createElement(d.b,{to:"/"}," Home ")),o.a.createElement("li",{className:B.a.Item},o.a.createElement(d.b,{to:"/logout"}," Logout ")))))},D=n(22),q=n.n(D),x=function(e){return o.a.createElement(d.b,{to:{pathname:"/notebook/"+e.id,state:{notebook_title:e.notebook_title}},className:q.a.NotebookItem},o.a.createElement("h3",{className:q.a.Title},e.notebook_title))},R=n(23),G=n.n(R),H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetNotebooks(this.props.token),this.setState({notebooks:this.props.notebooks})}},{key:"render",value:function(){var e=null;return this.props.notebooks&&(e=this.props.notebooks.map(function(e){return o.a.createElement(x,{notebook_title:e.name,key:e.id,id:e.id})})),o.a.createElement("div",{className:G.a.Notebooks},e)}}]),t}(a.Component),K=Object(h.b)(function(e){return{notebooks:e.notebooks.notebooks,token:e.auth.token}},function(e){return{onGetNotebooks:function(t){return e(function(e){return function(t){t({type:"FETCH_NOTEBOOKS_START"}),E.get("/notebooks",{headers:{Authorization:"Bearer "+e}}).then(function(e){t({type:"FETCH_NOTEBOOKS_SUCCESS",notebooks:e.data.data})}).catch(function(e){console.log(e),t({type:"FETCH_NOTEBOOKS_FAIL",error:e})})}}(t))}}})(H),V=n(8),z=n.n(V),W=function(e){return o.a.createElement("div",{className:z.a.Home},o.a.createElement("div",{className:z.a.Title},o.a.createElement("h1",null,"Home"),o.a.createElement(d.b,{to:"notebook/new"},o.a.createElement("button",{className:z.a.Btn},"New Notebook"))),o.a.createElement("div",{className:z.a.Content},o.a.createElement(K,null)))},Y=n(18),X=n.n(Y),Z=function(e){return o.a.createElement("div",{"aria-modal":"true"},o.a.createElement("div",{className:X.a.ModalContainer,onClick:e.hideModal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)"}}),o.a.createElement("div",{className:X.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},J=function(e){return o.a.createElement("div",{className:X.a.Content},o.a.createElement("div",{className:X.a.Title},o.a.createElement("h1",null,"Are you sure?")),o.a.createElement("div",{className:X.a.Links},o.a.createElement("p",{onClick:e.delete,className:X.a.Link,role:"link"},"Yes"),o.a.createElement("p",{onClick:e.cancel,className:X.a.Link,role:"link"},"No")))},$=n(37),Q=n.n($),ee=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).showModal=function(){n.setState({showModal:!0})},n.hideModal=function(){n.setState({showModal:!1})},n.state={submitted:!1,showModal:!1},n.deleteNote=n.deleteNote.bind(Object(O.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetNote(this.props.token,this.props.match.params.id)}},{key:"deleteNote",value:function(){this.props.onDeleteNote(this.props.token,this.props.match.params.id),this.props.submitted&&this.setState({submitted:!0})}},{key:"render",value:function(){var e=null;this.props.note&&(e=o.a.createElement("div",null,o.a.createElement("div",{className:z.a.Title},o.a.createElement("h1",null,this.props.note.title),o.a.createElement("div",{className:z.a.Links},o.a.createElement(d.b,{to:{pathname:this.props.match.params.id+"/edit",state:{notebook_id:this.props.location.state.notebook_id,title:this.props.location.state.title,notebook_title:this.props.location.state.notebook_title,note:this.props.note}}},o.a.createElement("button",{className:z.a.Btn},"Edit")),o.a.createElement("button",{onClick:this.showModal},"Delete")),o.a.createElement(Z,{show:this.state.showModal,hideModal:this.hideModal},o.a.createElement(J,{delete:this.deleteNote,cancel:this.hideModal}))),o.a.createElement("div",{className:Q.a.Content},o.a.createElement("div",{className:Q.a.Description},o.a.createElement("p",null,this.props.note.description)))));var t=o.a.createElement(p.a,{to:"/"});return this.state.submitted||(t=null),o.a.createElement("div",null,t,e)}}]),t}(a.Component),te=Object(h.b)(function(e){return{note:e.note.note,token:e.auth.token,submitted:e.note.submitted}},function(e){return{onGetNote:function(t,n){return e(function(e,t){return function(n){n({type:"FETCH_NOTE_START"}),E.get("/notes/"+t,{headers:{Authorization:"Bearer "+e}}).then(function(e){n({type:"FETCH_NOTE_SUCCESS",note:e.data.data})}).catch(function(e){console.log(e),n({type:"FETCH_NOTE_FAIL",error:e})})}}(t,n))},onDeleteNote:function(t,n){return e(function(e,t){return function(n){n({type:"UPDATE_NOTE_START"}),E.delete("/notes/"+e,{headers:{Authorization:"Bearer "+t}}).then(function(e){n({type:"REMOVE_NOTE_SUCCESS"})}).catch(function(e){console.log(e),n({type:"REMOVE_NOTE_FAIL",error:e})})}}(n,t))}}})(ee),ne=n(26),ae=n.n(ne),oe=function(e){var t=e.date.split(" ")[0],n=new Date(t),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][n.getMonth()]+", "+n.getFullYear();return o.a.createElement("div",{className:q.a.NotebookItem+" "+ae.a.Item},o.a.createElement(d.b,{to:{pathname:"/note/"+e.id,state:{notebook_id:e.notebook_id,notebook_title:e.notebook_title}}},o.a.createElement("h3",{className:q.a.Title+" "+ae.a.Title},e.title)),o.a.createElement("hr",{className:ae.a.Line}),o.a.createElement("p",{className:q.a.Notes+" "+ae.a.Description},e.description),o.a.createElement("div",{className:ae.a.Footer},o.a.createElement("p",null,a)))},re=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).showModal=function(){n.setState({showModal:!0})},n.hideModal=function(){n.setState({showModal:!1})},n.state={id:n.props.match.params.id,notebookTitle:n.props.location.state.notebook_title,submitted:!1,showModal:!1},n.deleteNotebook=n.deleteNotebook.bind(Object(O.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetNotebook(this.props.token,this.props.match.params.id)}},{key:"deleteNotebook",value:function(){this.props.onDeleteNotebook(this.props.token,this.props.match.params.id),this.props.submitted&&this.setState({submitted:!0})}},{key:"render",value:function(){var e=this,t=null;this.props.notebook&&(t=this.props.notebook.map(function(t){return o.a.createElement(oe,{title:t.title,key:t.id,description:t.description,date:t.created_at,notebook_id:e.state.id,notebook_title:e.state.notebookTitle,id:t.id})}));var n=o.a.createElement(p.a,{to:"/"});return this.state.submitted||(n=null),o.a.createElement("div",null,n,o.a.createElement("div",{className:G.a.Title+" "+z.a.Title},o.a.createElement("h1",null,this.state.notebookTitle),o.a.createElement("div",{className:z.a.Links},o.a.createElement(d.b,{to:{pathname:"/note/new",state:{notebook_id:this.state.id,notebook_title:this.props.location.state.notebook_title}}},o.a.createElement("button",{className:z.a.Btn},"New Note")),o.a.createElement(d.b,{to:{pathname:this.props.match.params.id+"/edit",state:{notebook_id:this.state.id,title:this.state.notebookTitle}}},o.a.createElement("button",{className:G.a.Btn},"Edit")),o.a.createElement("button",{className:G.a.Btn,onClick:this.showModal},"Delete")),o.a.createElement(Z,{show:this.state.showModal,hideModal:this.hideModal},o.a.createElement(J,{delete:this.deleteNotebook,cancel:this.hideModal}))),o.a.createElement("div",{className:G.a.Notebooks},t))}}]),t}(a.Component),ie=Object(h.b)(function(e){return{notebook:e.notebook.notes,token:e.auth.token,submitted:e.note.submitted}},function(e){return{onGetNotebook:function(t,n){return e(function(e,t){return function(n){n({type:"FETCH_NOTEBOOK_START"}),E.get("/notebook/"+t,{headers:{Authorization:"Bearer "+e}}).then(function(e){n({type:"FETCH_NOTEBOOK_SUCCESS",notebook:e.data.data})}).catch(function(e){console.log(e),n({type:"FETCH_NOTEBOOK_FAIL",error:e})})}}(t,n))},onDeleteNotebook:function(t,n){return e(function(e,t){return function(n){n({type:"REMOVE_NOTE_START"}),E.delete("/notebooks/"+e,{headers:{Authorization:"Bearer "+t}}).then(function(e){n({type:"REMOVE_NOTE_SUCCESS"})}).catch(function(e){console.log(e),n({type:"REMOVE_NOTE_FAIL",error:e})})}}(n,t))}}})(re),se=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={noteForm:{title:{value:"",errors:{required:"Title is required"}},description:{value:""},notebook_id:n.props.location.state.notebook_id,id:null},submitted:!1,errors:{title:[]},isValid:!1},n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location.state.note){var e=this.props.location.state.note.description?this.props.location.state.note.description:"",t={title:{value:this.props.location.state.note.title,errors:{required:"Title is required"}},description:{value:e},notebook_id:this.props.location.state.notebook_id,id:this.props.location.state.note.id};this.setState({noteForm:t})}}},{key:"validateForm",value:function(){var e,t=this.state.noteForm;e={title:[]},k(t.title.value)&&e.title.push(t.title.errors.required);var n=!0;for(var a in e)0!==e[a].length&&void 0!==e[a][0]&&(n=!1);this.setState({isValid:n}),this.setState({errors:e})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.validateForm(),this.state.isValid&&(this.state.noteForm.id?this.props.onUpdateNote(this.state.noteForm.id,this.state.noteForm.title.value,this.state.noteForm.description.value,this.state.noteForm.notebook_id,this.props.token):this.props.onNewNote(this.state.noteForm.title.value,this.state.noteForm.description.value,this.state.noteForm.notebook_id,this.props.token),this.props.submitted&&this.setState({submitted:!0}))}},{key:"handleChange",value:function(e){var t=e.target.id,n=Object(N.a)({},this.state.noteForm);n[t].value=e.target.value,this.setState({noteForm:n})}},{key:"render",value:function(){var e=o.a.createElement(p.a,{to:{pathname:"/notebook/"+this.props.location.state.notebook_id,state:{notebook_title:this.props.location.state.notebook_title}}});return this.state.submitted||(e=null),o.a.createElement("div",null,e,o.a.createElement("div",{className:z.a.Title},o.a.createElement("h1",null,"Note")),o.a.createElement("div",{className:"Content"},o.a.createElement("form",{className:"Form"},o.a.createElement("div",{className:"InputGroup"},o.a.createElement("input",{className:"Input",type:"text",id:"title",onChange:this.handleChange,value:this.state.noteForm.title.value,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"title.value"},"Title")),o.a.createElement("div",{className:"Error"},o.a.createElement("p",null,this.state.errors.title)),o.a.createElement("div",{className:"InputGroup"},o.a.createElement("textarea",{className:"Textarea",id:"description",name:"description",onChange:this.handleChange,cols:"30",rows:"10",value:this.state.noteForm.description.value,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"description"},"Description")),o.a.createElement("button",{className:"Btn",onClick:this.handleSubmit},"Save"))))}}]),t}(a.Component),le=Object(h.b)(function(e){return{token:e.auth.token,submitted:e.note}},function(e){return{onNewNote:function(t,n,a,o){return e(function(e,t,n,a){return function(o){o({type:"POST_NOTE_START"});var r={title:e,description:t,notebooks_id:n};E.post("/notes",r,{headers:{Authorization:"Bearer "+a}}).then(function(e){o({type:"POST_NOTE_SUCCESS"})}).catch(function(e){console.log(e),o({type:"POST_NOTE_FAIL",error:e})})}}(t,n,a,o))},onUpdateNote:function(t,n,a,o,r){return e(function(e,t,n,a,o){return function(r){r({type:"UPDATE_NOTE_START"});var i={title:t,description:n,notebooks_id:a};E.put("/notes/"+e,i,{headers:{Authorization:"Bearer "+o}}).then(function(e){r({type:"UPDATE_NOTE_SUCCESS"})}).catch(function(e){console.log(e),r({type:"UPDATE_NOTE_FAIL",error:e})})}}(t,n,a,o,r))}}})(se),ue=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={notebookForm:{title:{value:"",errors:{required:"Notebook title is required"}},id:null},submitted:!1,errors:{title:[]},isValid:!1},n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location.state){var e={title:{value:this.props.location.state.title,errors:{required:"Notebook title is required"}},id:this.props.location.state.notebook_id};this.setState({notebookForm:e})}}},{key:"validateForm",value:function(){var e,t=this.state.notebookForm;e={title:[]},k(t.title.value)&&e.title.push(t.title.errors.required);var n=!0;for(var a in e)0!==e[a].length&&void 0!==e[a][0]&&(n=!1);this.setState({isValid:n}),this.setState({errors:e})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.validateForm(),this.state.isValid&&(this.state.notebookForm.id?this.props.onUpdateNotebook(this.state.notebookForm.id,this.state.notebookForm.title.value,this.props.token):this.props.onNewNotebook(this.state.notebookForm.title.value,this.props.token),this.props.submitted&&this.setState({submitted:!0}))}},{key:"handleChange",value:function(e){var t=e.target.id,n=Object(N.a)({},this.state.notebookForm);n[t].value=e.target.value,this.setState({notebookForm:n})}},{key:"render",value:function(){var e=o.a.createElement(p.a,{to:"/"});return this.state.submitted||(e=null),o.a.createElement("div",null,e,o.a.createElement("div",{className:z.a.Title},o.a.createElement("h1",null,"Notebook")),o.a.createElement("div",{className:"Content"},o.a.createElement("form",{className:"Form"},o.a.createElement("div",{className:"InputGroup"},o.a.createElement("input",{className:"Input",type:"text",id:"title",onChange:this.handleChange,value:this.state.notebookForm.title.value,required:!0}),o.a.createElement("label",{className:"Label",htmlFor:"title"},"Title")),o.a.createElement("div",{className:"Error"},o.a.createElement("p",null,this.state.errors.title)),o.a.createElement("button",{className:"Btn",onClick:this.handleSubmit},"Save"))))}}]),t}(a.Component),ce=Object(h.b)(function(e){return{token:e.auth.token,submitted:e.notebook.submitted}},function(e){return{onNewNotebook:function(t,n){return e(function(e,t){return function(n){n({type:"POST_NOTEBOOK_START"});var a={name:e};E.post("/notebooks",a,{headers:{Authorization:"Bearer "+t}}).then(function(e){n({type:"POST_NOTEBOOK_SUCCESS"})}).catch(function(e){console.log(e),n({type:"POST_NOTEBOOK_FAIL",error:e})})}}(t,n))},onUpdateNotebook:function(t,n,a){return e(function(e,t,n){return function(a){a({type:"UPDATE_NOTEBOOK_START"});var o={name:t};E.put("/notebooks/"+e,o,{headers:{Authorization:"Bearer "+n}}).then(function(e){a({type:"UPDATE_NOTEBOOK_SUCCESS"})}).catch(function(e){console.log(e),a({type:"UPDATE_NOTEBOOK_FAIL",error:e})})}}(t,n,a))}}})(ue),me=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=o.a.createElement("div",null,o.a.createElement(p.b,{path:"/",exact:!0,render:function(){return o.a.createElement(j,{form:"login"})}}),o.a.createElement(p.b,{path:"/signup",exact:!0,render:function(){return o.a.createElement(j,{form:"signup"})}}));return this.props.isAuthenticated&&(e=o.a.createElement("div",{className:z.a.Container},o.a.createElement("div",{className:z.a.Navbar},o.a.createElement(P,null)),o.a.createElement("main",{className:z.a.MainContent},o.a.createElement(p.d,null,o.a.createElement(p.b,{path:"/note/:id/edit",exact:!0,component:le}),o.a.createElement(p.b,{path:"/note/new",exact:!0,component:le}),o.a.createElement(p.b,{path:"/notebook/:id/edit",exact:!0,component:ce}),o.a.createElement(p.b,{path:"/notebook/new",exact:!0,component:ce}),o.a.createElement(p.b,{path:"/note/:id",exact:!0,component:te}),o.a.createElement(p.b,{path:"/notebook/:id",exact:!0,component:ie}),o.a.createElement(p.b,{path:"/logout",exact:!0,component:U}),o.a.createElement(p.b,{path:"/",exact:!0,component:W}))))),o.a.createElement(d.a,null,e)}}]),t}(a.Component),de=Object(h.b)(function(e){return{isAuthenticated:null!==e.auth.token}},function(e){return{onTryAutoSignup:function(){return e(function(e){var t=localStorage.getItem("token");t?localStorage.getItem("expires_at")>new Date?e(f()):e(_(t)):e(f())})}}})(me),pe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(de,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(80);var he=n(21),be=n(51),Ee=function(e,t){return Object(N.a)({},e,t)},_e={token:null,error:null,loading:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"AUTH_SUCCESS":return function(e,t){return Ee(e,{token:t.token,error:null,loading:!1})}(e,t);case"AUTH_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e,t){return Ee(e,{token:null})}(e);case"SIGNUP_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"SIGNUP_SUCCESS":return function(e,t){return Ee(e,{error:null,loading:!1})}(e);case"SIGNUP_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);default:return e}},ve={notebooks:[],error:null},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NOTEBOOKS_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"FETCH_NOTEBOOKS_SUCCESS":return function(e,t){return Ee(e,{notebooks:t.notebooks,error:null})}(e,t);case"FETCH_NOTEBOOKS_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);default:return e}},Oe={notes:[],error:null},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NOTEBOOK_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"FETCH_NOTEBOOK_SUCCESS":return function(e,t){return Ee(e,{notes:t.notebook,error:null})}(e,t);case"FETCH_NOTEBOOK_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);case"POST_NOTEBOOK_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"POST_NOTEBOOK_SUCCESS":return function(e,t){return Ee(e,{notebook:t.notebook,error:null,submitted:!0})}(e,t);case"POST_NOTEBOOK_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);case"UPDATE_NOTEBOOK_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"UPDATE_NOTEBOOK_SUCCESS":return function(e,t){return Ee(e,{error:null,submitted:!0})}(e);case"UPDATE_NOTEBOOK_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);default:return e}},Te={note:null,error:null},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NOTE_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"FETCH_NOTE_SUCCESS":return function(e,t){return Ee(e,{note:t.note,error:null})}(e,t);case"FETCH_NOTE_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);case"POST_NOTE_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"POST_NOTE_SUCCESS":return function(e,t){return Ee(e,{error:null,submitted:!0})}(e);case"POST_NOTE_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1,submitted:!1})}(e,t);case"UPDATE_NOTE_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"UPDATE_NOTE_SUCCESS":return function(e,t){return Ee(e,{error:null,submitted:!0})}(e);case"UPDATE_NOTE_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);case"REMOVE_NOTE_START":return function(e,t){return Ee(e,{error:null,loading:!0})}(e);case"REMOVE_NOTE_SUCCESS":return function(e,t){return Ee(e,{error:null,submitted:!0})}(e);case"REMOVE_NOTE_FAIL":return function(e,t){return Ee(e,{error:t.error,loading:!1})}(e,t);default:return e}},ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||he.d,Ce=Object(he.c)({auth:fe,notebooks:Ne,notebook:ke,note:Se}),Fe=Object(he.e)(Ce,ge(Object(he.a)(be.a))),ye=o.a.createElement(h.a,{store:Fe},o.a.createElement(pe,null));i.a.render(ye,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,1,2]]]);
//# sourceMappingURL=main.0daf2c02.chunk.js.map